# Section 26.3 Configure OpenBSD

# Initial login #

# Get drive #

OpenBSD automatically detects WiFi, graphic cards and sound cards and downloads the associated drive after the first access. Wait a few minutes for its own updating. Due to difficulties in accessing offshore websites, if the waiting period is too long, the __CODESPAN_0 + __CODESPAN_1_1_can be cancelled (do not do so at the time the system is being installed**, please cut off the net!) and run __CODESPAN_2_ retake the driver after entering the system。

New downloads are driven by time-out errors due to a number of problems and can be refreshed several times. You can also remember to get the failed driver name after running __CODESPAN_0_ and then access it directly. OpenBSD of civil society website (http://firmware.openbsd.org/firmware/) for manual access, attention to the version. Depressor drive package, copy the internal drive file into __CODESPAN_1_ folder and restart it。

e. g. __CODESPAN_0_ is an intel-driven graphic card, depressing the drive and finding a directory with i915 under the driver's firmware directory. The following operations can be performed:

```sh
# mkdir -p /etc/firmware/i915 # 创建文件夹
# cp -r inteldrm-firmware-xxx/firmware/i915/* /etc/firmware/i915/ #复制驱动
```

Similarly __CODESPAN_0_ is an amd-driven graphic card, which is depressed and found to have an amdgpu directory under the driver's firmware directory. The following operations can be performed:

```sh
# mkdir -p /etc/firmware/amdgpu # 创建文件夹
# cp -r amdgpu-firmware-xxx/firmware/amdgpu/* /etc/firmware/amdgpu/ #复制驱动
```

Other drivers are the same。

# Update

# # Normal account access

Login system with root account, and then create new __CODESPAN_0_ text, open __CODESPAN_1_, and add __CODESPAN_2_

# # Update and upgrade #

kernel update:

```sh
# syspatch
```

System update:

```sh
# sysupgrade
```

Driver upgrade:

```sh
# fw_update
```

Software upgrade:

```sh
# pkg_add -u
```

modify shell:

```sh
# chsh -s /usr/local/bin/bash 用户名
```


# Mountable Disk

New Mount Point

```sh
# mkdir -p /media/usb1 /media/usb2 /media/usb3 /media/usb4
```

# # View the disc

Use the __CODESPAN_0_ command to view newly inserted discs, such as the U-disk format fat32, which may be __CODESPAN_1_ in the OpenBSD system。

Check partitions

IF THE INSERTED DISK IS __CODESPAN_0, ENTER __CODESPAN_1_ TO SEE THE PARTITION. AS FOLLOWS:

```sh
#                size           offset  fstype [fsize bsize   cpg]
 c:         60062500                0  unused
 i:         60062244              256   MSDOS
```

# Mount #

THE ABOVE-KNOWN PARTITION IS ___CODESPAN_0, MOUNTED WITH THE FOLLOWING COMMAND:

```sh
# mount /dev/sd1i /media/usb1
```

# Other formats

OpenBSD mounted external hard drive formats include NTFS (needs to install CODESPAN_0, ext2/ext3 and CDs, etc. for specific commands as follows:

```sh
# mount /dev/sd3i /media/usb1       # fat32
# mount_ntfs /dev/sd2k /media/usb2  # NTFS
# mount /dev/sd1l /media/usb3       # ext2/ext3
# mount /dev/cd0a /media/usb4       # CD
```

# Unmount disk #

```sh
# umount /media/usb1
```

# Mount the Andre device #

The latest Android disks are mapd using MTP, and we need the corresponding mtp software to manage the cell phone files. Unlike Linux, there are fewer matching software available on the OpenBSD system, where we use ___CODESPAN_0_ to do the job。

INSTALLATION SOFTWARE: __CODESPAN_0_

NEW DIRECTORY: __CODESPAN_0 (IF THERE IS AN ERROR, YOU CAN FIRST CREATE __CODESPAN_1_ DIRECTORY)

3. MODIFICATION OF DIRECTORY PRIVILEGES:

MOUNTING EQUIPMENT: __CODESPAN_0_

UNMOUNTED EQUIPMENT: __CODESPAN_0_

In addition to the Andre mobile phone, equipment such as the Andre Paper Book may be mounted in the above manner。

# WiFi

The WiFi network in OpenBSD, the configuration file is usually __CODESPAN_0, of which `if`_ is the WiFi driver name + serial number. If a notebook, the WiFi model is rtl8188c, the OpenBSD drive is rtwn, the serial number starts from 0. In order for the system to be automatically connected to WiFi, __CODESPAN_2_files can be opened, followed by the following:

```sh
dhcp
join WiFi名称 wpakey WiFi密码
```

Just save it。

Miscellaneous

# Load the touchboard #

OPEN __CODESPAN_0, ADD A LINE `mouse.tp.tapping=1`_。

# Load multiple threads #

OPEN __CODESPAN_0, ADD A LINE `hw.smt=1`_。

```sh
ykla# sysctl hw.smt=1  # 立刻生效但非永久化设置
hw.smt: 0 -> 1
ykla# sysctl hw.ncpuonline  # 查看线程数
hw.ncpuonline=4
```

# Turn off #

OpenBSD has no poweroff available。

```sh
# halt -p
```

or

```sh
# shutdown -h now
```

# HTTP AGENT #

** Watch out for lowercase! Not effective here. **

```sh
export http_proxy=http://192.168.X.X:7890
```

# # Related information

- [OpenBSD FAQ] (https://www.openbsd.org/faq/) - [Here, in China] (https://openbsd-zh-Assification.github.io/docs-openbsd-zh/)
♪ Absolute Open BSD, 2nd Edition: United for the Practical Paranoid*, ISBN 978-1593274764, No Staarch Press
(https://www.k58.uk/openbsd.html)

