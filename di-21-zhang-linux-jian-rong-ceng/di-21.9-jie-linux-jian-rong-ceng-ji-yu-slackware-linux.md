# Section 21.9 Slackware Linux Compatible Layer



slackware does not provide a download of the basic system and needs to generate it in a script of its own under slackware or FreeBSD (FreeBSD needs to install __CODESPAN_0 and __CODESPAN_1), with the original script address at <https://github.com/nnewb/slackware-WSL> because of the absence of a sponsored server。


Upon self-generated, the compatibility script reads as follows:

```sh
#!/bin/sh

this post is part of our special coverage Global Voices 2011
@export DIST=slackware
export DIST_FULLNAME=Slackware
VER = 15.0
FILE=$ {DIST}64-$}.tar.xx
"SUBDIR"
URL =https://book.bsdcn.org
UPDATE_CMD=slackpkg update
UPGRADE_CMD=slackpkg upgrad-all
INSTALL_CMD=slackpkg install
UPDATE = 1
UPGRADE = 1
INSTRAW = 1


♪ "Starting to install ♪
sleep 0.5


# check.sh
"Checking productive motors"

if! "$(sysrc-n linux_enable)" = "yes" ; then
"Linux service is not available
/Read ANSWER
case {ANSWER} in
[Nn] [OO]| [Nn]
"You start linux service with service linux start."
"Sure to continue without enabling linux service?"
/Read ANSWER
case {ANSWER} in
[Yy][Ee][Ss]|[Yy]]
"Warning: linux moudle not sustainable"
;
[Nn] [OO] [Nn]""]
"Enabling Linux Moudle"
== sync, corrected by elderman ==
;
*)
"Aborting."
exit 4
;
that's it
;
[Yy] [Ee] [S] [Yy]|"]
"Enabling Linux Moudle"
== sync, corrected by elderman ==
;
*)
"Aborting."
exit 4
;
that's it
f

"Starting Linux service."
it's not a good idea

i'm sorry, but i'm sorry
install dbus now
/Read ANSWER
case {ANSWER} in
[Nn] [OO]| [Nn]
"Abort
exit 2
;
[Yy] [Ee] [S] [Yy]|"]
"Installing dbus."
pkg install-y dbus
;
*)
"Aborting."
exit 4
;
that's it
f

if [! "$(sysrc-n dbus_enable)" = "yes" ; then
"Dbus is not available
/Read ANSWER
case {ANSWER} in
[Nn] [OO]| [Nn]
"You MUST start dbus with service dbus start."
"Sure to continue without enabling dbus?"
/Read ANSWER
case {ANSWER} in
[Yy][Ee][Ss]|[Yy]]
"Warning: dbus not available"
;
[Nn] [OO] [Nn]""]
"Enabling dbus service."
"YES."
;
*)
"Aborting."
exit 4
;
that's it
;
[Yy] [Ee] [S] [Yy]|"]
"Enabling dbus service."
"YES."
;
*)
"Aborting."
exit 4
;
that's it
f

if [-z"(ps aux grep-p dbus grep-v grep)"
"Starting dbus service"
it's a service dbus start
f

if it's not "YES"
"Nollfs should be loaded when
/Read ANSWER
please ANSWER in
[Nn] [OO]| [Nn]
"You MUST loads with "kldload-vfuls"
"Sure to continue without setting wilds to YES?"
/Read ANSWER
please ANSWER in
[Yy][Ee][Ss]|[Yy]]
"Warning: non-loads not set"
;
[Nn] [OO] [Nn]""]
"Setting Nulls_load to yes."
"YES"
;
*)
"Aborting."
exit 4
;
that's it
;
[Yy] [Ee] [S] [Yy]|"]
"Setting Nulls_load to yes."
"YES"
;
*)
"Aborting."
exit 4
;
that's it
f

if
"Loaing bullfs module."
kldload-v nulls
f


# pre_extract.sh #


echo "${DIST_FULNAME} will be included in ${ROOT_DIR}/${DIST}

"Downloading Basic System"
fetch ${URL}/${FILE}

"Exacting Basic System"
sleep 0.5
mkdir-p${ROOT_DIR}/${DIST}
t xvpf${FILE}$${SUBDIR:} -C${ROOT_DIR}/${DIST} --numeric-owner

"Mounting renewed data system"
sleep 0.5
echo "devfs${ROOT_DIR}/devdevsrw,late00" > /etc/fstab
echo "tmpfs${ROOT_DIR}/${DIST}/dev/shmtmpfsrw,late, size, size=1g, Mode=177700" >/etc/fstab
epho "fdescfs${ROOT_DIR}/${DIST}/dev/fddescfsrw,late, linrdlnk00" >/etc/fstab
echo "linprocfs${ROOT_DIR}/${DIST}/proclinprocfsrw,late00">/etc/fstab
echo "linsysfs${ROOT_DIR}/${DIST}/syslinsysfsrw,late00">/etc/fstab
epho "/tmp${ROOT_DIR}/${DIST}/tmpnulfsrw,late00" >/etc/fstab
#echo "/home${ROOT_DIR}/${DIST}/homenulfsrw,late00" >/etc/fstab
"mount-al."


# setup.sh
"Shoold $ {DIST_FULNAME}use Alibaba DNS or local resource.conf? ( (A)li | (l)ocal | (c)ancel)"
/Read ANSWER
case {ANSWER} in
[Aa] [Ll] [Ii] [Aa]|"]
"Setting Alibaba DNS."
>$ {ROOT_DIR}/etc/resolv.conf
DNS_CONFIGURED=1
;
[Ll][Oo][Cc][Aa][Ll]| [Ll]]
"Using local reslov.conf."
cp /etc/resolv.conf {ROOT_DIR}/etc/resolv.conf
DNS_CONFIGURED=1
;
*)
"Cancred."
"You have to edit $ {ROOT_DIR}/etc/resolv.conf by yourself!"
DNS_CONFIGURED=0
;
that's it

if [${DNS_CONFIGURED}=1]; then
if [${UPDATE} = 1]; then
"Updating $ {DIST_FULLNAME}"
/bin/bash-c "${UPDATE_CMD}"
f
if [${UPGRADE}=1]; then
"Upgrading $ {DIST_FULLNAME}"
/bin/bash-c
f
i'm sorry, else
"DNS is not set, Skipping upward"
f

"Setting default lash them."
cp ${ROOT_DIR}/${DIST}/etc/profile${ROOT_DIR}/${DIST}/root/.bahrc


"Claining up"
rm $ {FILE}

"Done."
"Now you can sing to $ {DIST_FULLNAME} with \choot {ROOT_DIR}/bin/bash\"
````

