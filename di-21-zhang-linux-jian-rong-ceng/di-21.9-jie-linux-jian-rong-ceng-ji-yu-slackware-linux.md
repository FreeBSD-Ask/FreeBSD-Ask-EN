# Section 21.9 Slackware Linux Compatible Layer



Slackware does not provide a download of the basic system and needs to generate it in scripts under slackware or FreeBSD (FreeBSD needs to install `bash ' and `gmade ' ), with original scripts at <https://github.com/nnnewb/slackware-WSL>, as the server is not sponsored, please generate the document yourself.


Upon self-generated, the compatibility script reads as follows:

```sh '
#!/bin/sh

This post is part of our special coverage Global Voices 2011.
@export DIST=slackware
Export DIST_FULLNAME=Slackware
VER = 15.0
FILE=$ {DIST}64-$}.tar.xx
"SUBDIR"
URL =https://book.bsdcn.org
UPDATE_CMD=slackpkg update
UPGRADE_CMD=slackpkg upgrad-all
INSTALL_CMD=slackpkg install
UPDATE = 1
UPGRADE = 1
INSTRAW = 1


♪ "Starting to install ♪
Sleep 0.5.


# Check.sh
"Checking productive motors"

If! "$(sysrc-n linux_enable)" = "yes" ; then
"Linux service is not available.
/Read ANSWER
Case {ANSWER} in
[Nn] [OO]| [Nn]
"You start linux service with service linux start."
"Sure to continue without enabling linux service?"
/Read ANSWER
Case {ANSWER} in
[Yy][Ee][Ss]|[Yy]]
"Warning: linux moudle not sustainable"
;
[Nn] [OO] [Nn]""]
"Enabling Linux Moudle"
== sync, corrected by elderman ==
;
*)
"Aborting."
Exit 4
;
That's it.
;
[Yy] [Ee] [S] [Yy]|"]
"Enabling Linux Moudle"
== sync, corrected by elderman ==
;
*)
"Aborting."
Exit 4
;
That's it.
F

"Starting Linux service."
It's not a good idea.

I'm sorry, but I'm sorry.
Install dbus now?
/Read ANSWER
Case {ANSWER} in
[Nn] [OO]| [Nn]
"Abort.
Exit 2
;
[Yy] [Ee] [S] [Yy]|"]
"Installing dbus."
Pkg install-y dbus
;
*)
"Aborting."
Exit 4
;
That's it.
F

If [! "$(sysrc-n dbus_enable)" = "yes" ; then
"Dbus is not available.
/Read ANSWER
Case {ANSWER} in
[Nn] [OO]| [Nn]
"You MUST start dbus with service dbus start."
"Sure to continue without enabling dbus?"
/Read ANSWER
Case {ANSWER} in
[Yy][Ee][Ss]|[Yy]]
"Warning: dbus not available"
;
[Nn] [OO] [Nn]""]
"Enabling dbus service."
"YES."
;
*)
"Aborting."
Exit 4
;
That's it.
;
[Yy] [Ee] [S] [Yy]|"]
"Enabling dbus service."
"YES."
;
*)
"Aborting."
Exit 4
;
That's it.
F

If [-z"(ps aux grep-p dbus grep-v grep)"
"Starting dbus service"
It's a service dbus start.
F

If it's not "YES"
"Nollfs should be loaded when.
/Read ANSWER
Please ANSWER in
[Nn] [OO]| [Nn]
"You MUST loads with "kldload-vfuls"
"Sure to continue without setting wilds to YES?"
/Read ANSWER
Please ANSWER in
[Yy][Ee][Ss]|[Yy]]
"Warning: non-loads not set"
;
[Nn] [OO] [Nn]""]
"Setting Nulls_load to yes."
"YES"
;
*)
"Aborting."
Exit 4
;
That's it.
;
[Yy] [Ee] [S] [Yy]|"]
"Setting Nulls_load to yes."
"YES"
;
*)
"Aborting."
Exit 4
;
That's it.
F

If!
"Loaing bullfs module."
Kldload-v Nulls
F


# Pre_extract.sh #


echo "${DIST_FULNAME} will be included in ${ROOT_DIR}/${DIST}

"Downloading Basic System"
Fetch ${URL}/${FILE}

"Exacting Basic System"
Sleep 0.5.
mkdir-p${ROOT_DIR}/${DIST}
t xvpf${FILE}$${SUBDIR:} -C${ROOT_DIR}/${DIST} --numeric-owner

"Mounting renewed data system"
Sleep 0.5.
echo "devfs ${ROOT_DIR}/${DIST}/dev Devfs rw, late 0" >/etc/fstab
epho "tmpfs ${ROOT_DIR}/${DIST}/dev/shmtmpfs rw, late, size=1g, Mode=17770" >/etc/fstab
epho "fdescfs $ {ROOT_DIR}/dev/fd fdescfs rw, late, linrdlnk 0">/etc/fstabecho "linprocfs $ {ROOT_DIR}/${DIST}/proc Linprocfs rw, late 0" > /etc/fstab
echo "linsysfs${ROOT_DIR}/${DIST}/sys Linsysfsrw, late 0">/etc/fstab
epho "/tmp ${ROOT_DIR}/tmp Nullfs rw, late 0">/etc/fstab
#cho "/home ${ROOT_DIR}/${DIST}/home Nullfs rw, late 0" >/etc/fstab
"Mount-al."


# setup.sh
"Shoold $ {DIST_FULNAME}use Alibaba DNS or local resource.conf? ( (A)li | (l)ocal | (c)ancel)"
/Read ANSWER
Case {ANSWER} in
[Aa] [Ll] [Ii] [Aa]|"]
"Setting Alibaba DNS."
>$ {ROOT_DIR}/etc/resolv.conf
DNS_CONFIGURED=1
;
[Ll][Oo][Cc][Aa][Ll]| [Ll]]
"Using local reslov.conf."
cp /etc/resolv.conf {ROOT_DIR}/etc/resolv.conf
DNS_CONFIGURED=1
;
*)
"Cancred."
"You have to edit $ {ROOT_DIR}/etc/resolv.conf by yourself!"
DNS_CONFIGURED=0
;
That's it.

If [${DNS_CONFIGURED}=1]; then
If [${UPDATE} = 1]; then
"Updating $ {DIST_FULLNAME}"
/bin/bash-c "${UPDATE_CMD}"
F
If [${UPGRADE}=1]; then
"Upgrading $ {DIST_FULLNAME}"
/bin/bash-c
F
I'm sorry, else.
"DNS is not set, Skipping upward"
F

"Setting default lash them."
cp ${ROOT_DIR}/${DIST}/etc/profile${ROOT_DIR}/${DIST}/root/.bahrc


"Claining up"
rm $ {FILE}

"Done."
"Now you can sing to $ {DIST_FULLNAME} with \choot {ROOT_DIR}/bin/bash\"
````

