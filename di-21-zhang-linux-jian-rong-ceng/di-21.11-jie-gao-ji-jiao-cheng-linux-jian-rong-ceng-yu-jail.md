# Section 21.11 Linux Compatible Layer with Jail

# Preparatory work

This paper binds all jail to the virtual interface __CODESPAN_0, all jail is equivalent to a local area network under FreeBSD, and FreeBSD hosts are equivalent to a gateway to the Bureau's area network。

All jail ' s network activities are subject to a web interface, CODESPAN_0, so the use of the network requires a web forwarding, which is done using a pf firewall。

Note**
>
> This is key to accessing web access。

# Prepare the network interface #

```sh
# sysrc cloned_interfaces+="lo1" # 增加一个克隆的网络接口 lo1
# service netif cloneup          # 启用克隆的网络接口
```

# ready pf firewall #

This is provided in two ways, on an as-needed basis。

Method I

EDIT __CODESPAN_0_, ADD:

```sh
table <jails> persist
nat pass on em0 inet from <jails> to any -> em0
```

CREATES A TABLE CALLED CODESPAN_0 IN THE FIREWALL AND DESIGNATES THE __CODESPAN_1 SIGN SO THAT THE FIREWALL ALWAYS MAINTAINS IT (EVEN IF IT IS NOT QUOTED IN THE RELEVANT RULES)。

The Table is a named structure of the pf firewall that preserves the combination of addresses and networks. The address in __CODESPAN_0_table can be accessed through the NAT network。

THE TABLE __CODESPAN_0 CAN BE ADDED TO OR SUBTRACTED FROM __CODESPAN_1 TO CONTROL NETWORK ACCESS. FOR EXAMPLE:

- __CODESPAN_0... Add __CODESPAN_1_... to the jails table so that they can access the network
- __CODESPAN_0... remove __CODESPAN_1_ from the jails tables so that they cannot access the network。

It is characterized by manual management of troubles but is flexible。

Method II

WRITE THE RULE DIRECTLY IN __CODESPAN_0_:

```sh
nat pass on em0 inet from 192.168.5.1 to any -> em0
```

IT IS CONVENIENT TO ALLOW __CODESPAN_0_ ACCESS TO THE NETWORK, WHICH IS CHARACTERIZED BY RULES THAT ARE FIRMLY EMBEDDED IN THE CONFIGURATION WITHOUT SPECIAL NEEDS。

## enable pf firewall

>** Warning**
>
Whether you want to use a firewall or not, you don't have a network in Jail。

```sh
# service pf enable
# service pf start
```

# # Load necessary Linux compatibility inner core module #

```sh
# service linux enable
# service linux start
```

this way you can automatically load the modules of the linux compatibility layer

# Ready directory #

```sh
# mkdir /usr/jails  # 用于保存建立 jail 的相关文件
```

# create debian jail

# Download basic systems #

Here is the example of Debian 12 (bookwork):

Build Ubuntu/ Debian

```sh
# pkg install debootstrap #安装 debootstrap
# chmod 0700 /usr/local/sbin/debootstrap # 赋予权限。
# mkdir -p /usr/jails/debian
# debootstrap bookworm /usr/jails/debian https://mirrors.ustc.edu.cn/debian/ #此处使用了 USTC 镜像站
```

Example output:

```sh
I: Retrieving InRelease
I: Retrieving Packages
I: Validating Packages
I: Resolving dependencies of required packages...
I: Resolving dependencies of base packages...
I: Checking component main on https://mirrors.ustc.edu.cn/debian...
I: Retrieving adduser 3.130
I: Validating adduser 3.130
...
I: Extracting usr-is-merged...
I: Extracting util-linux-extra...
I: Extracting zlib1g...
```

Note**
>
> At the end, there may be a hint of error, simply ignore it。

# # create debian jail instance

Creates an example of jail with Debian 12 Basic System, named Debian。

Basic configuration of the instance

CREATE __CODESPAN_0_, AS FOLLOWS:

```sh
devfs      /usr/jails/debian/dev      devfs       rw                      0  0
tmpfs      /usr/jails/debian/dev/shm  tmpfs       rw,size=1g,mode=1777    0  0
fdescfs    /usr/jails/debian/dev/fd   fdescfs     rw,linrdlnk             0  0
linprocfs  /usr/jails/debian/proc     linprocfs   rw                      0  0
linsysfs   /usr/jails/debian/sys      linsysfs    rw                      0  0
/tmp       /usr/jails/debian/tmp      nullfs      rw                      0  0
```

ADD THE FOLLOWING (IF NOT NEW) TO __CODESPAN_0:

```sh
debian {                               # jail 名
  host.hostname = debian;              # jail 的主机名
  mount.fstab = /etc/fstab.debian;     # jail 使用的 fstab：启动/关闭 jail 时，挂载/卸载对应的文件系统
  path = /usr/jails/debian;            # jail 使用的根目录
  devfs_ruleset = 4;                   # jail 挂载 devfs 的规则集的值：0 表示无规则集，jail 会继承上级 jail 规则集，
                                       # 只在启用 allow.mount、allow.mount.devfs 且 enforce_statfs 小于 2 时可以挂载 devfs
  enforce_statfs = 1;                  # 设置为 0 时，所有挂载点都是可用的，无任何限制。
                                       # 设置为 1 时，只有 jail 根目录之下的挂载点是可见的。
                                       # 设置为 2(默认值) 时，只能在 jail 目录所在的挂载点上操作，不能挂载 devfs、tmpfs 等。
  allow.mount;                         # 允许挂载文件系统
  allow.mount.devfs;                   # 允许挂载 devfs
  exec.start = '/bin/true';            # 见下
  exec.stop = '/bin/true';             # 见下
  persist;                             # 允许 jail 在没有任何进程的情况下存活
  allow.raw_sockets;                   # 允许 ping 等使用 raw socket，看需要写入
  interface = lo1;                     # 使用 lo1 作为网络接口
  ip4.addr = 192.168.5.1;              # 使用的 ipv4 地址
  ip6 = disable;                       # 禁用 ipv6
}
```

- __CODESPAN_0_ Specifies the command to run when starting jail。

If freebsd does jail, __CODESPAN_0_, the rc system of FreeBSD is used to start the service。

But debian uses systemd as init system. Jail does not use systemd, so it cannot use the corresponding command (service command is available), so it is possible to return here with __CODESPAN_0... without doing anything safe `true`_。

The problem is (as in the case of sshd services) when the sshd service (__CODESPAN_0_) is enabled in debian jail. If the debian jail is restarted, the sshd service will not start again with jail. This can be written as __CODESPAN_1_. This way you can start sshd service when you start debian jail。

If more services are available, the following could be prepared:

```sh
exec.start += 'service ssh start'
exec.start += 'service dbus start'
```

- __CODESPAN_0_ Command to stop jail running。

If freebsd does jail generally is __CODESPAN_0_。

It's also possible to return to CODESPAN_0_safely for ssystemd reasons。

## # Enable example to allow access to the network

- start, jail

```sh
# jail -c debian
```

- stop, jail

```sh
# jail -r debian
```

- Add the address of jail to the table __CODESPAN_0_ in pf firewall to allow jail access to the network:

```sh
# pfctl -t jails -T add 192.168.5.1
```

Update System

Implementation:

```sh
# jexec debian /bin/bash # 此时位于 FreeBSD！
Debian # apt remove rsyslog  # 此时位于 Debian Jail!
Debian # apt update # 此时位于 Debian Jail!
```

Or use

```sh
# jexec -l debian /bin/bash -c 'apt remove rsyslog'
# jexec -l debian /bin/bash -c 'apt update'
```

Thus, a linux jail based on Debian 12 has been successfully created, and the same method can create multiple jail based on Debian and ubuntu versions。

# jail, turn yourself on

start when it starts, jail

```sh
# service jail enable
```

defaultly starts all jail。

Also specify the name of jail that is started on startup in __CODESPAN_0, edit `/etc/rc.conf` to write:

```sh
jail_list = "debian"
```

or implementation

```sh
# sysrc jail_list+=debian
```

If the __CODESPAN_0_ variable is empty, all jails configured in __CODESPAN_1_ will be activated。

# Create Ubuntu jail

ubuntu jail was created in the same way as Ubuntu 22.04 (jammy)

# Build and configure basic systems #

```sh
# mkdir -p /usr/jails/ubuntu
# debootstrap jammy /usr/jails/ubuntu https://mirrors.ustc.edu.cn/ubuntu/
```

CREATE __CODESPAN_0_, AS FOLLOWS:

```sh
devfs      /usr/jails/ubuntu/dev      devfs       rw                      0  0
tmpfs      /usr/jails/ubuntu/dev/shm  tmpfs       rw,size=1g,mode=1777    0  0
fdescfs    /usr/jails/ubuntu/dev/fd   fdescfs     rw,linrdlnk             0  0
linprocfs  /usr/jails/ubuntu/proc     linprocfs   rw                      0  0
linsysfs   /usr/jails/ubuntu/sys      linsysfs    rw                      0  0
/tmp       /usr/jails/ubuntu/tmp      nullfs      rw                      0  0
```

Write the ubuntu configuration in __CODESPAN_0_, as follows:

```sh
ubuntu {
  host.hostname = ubuntu;
  mount.fstab = /etc/fstab.ubuntu;
  path = /usr/jails/ubuntu;
  devfs_ruleset = 4;
  enforce_statfs = 1;
  allow.mount;
  allow.mount.devfs;
  exec.start = '/bin/true';
  exec.stop = '/bin/true';
  persist;
  allow.raw_sockets;
  interface = lo1;
  ip4.addr = 192.168.5.2;
  ip6 = disable;
}
```

# # Enable examples and allow Internet access

```sh
# jail -c ubuntu # 启用实例
```

IF ___CODESPAN_0 IS ALREADY SET IN `jail_enable=YES`_, IT CAN ALSO BE USED

```sh
# service jail start ubuntu
```

openable for reference debian jail, execute

```sh
# sysrc jail_list+=ubuntu
```

Add the address of jail to the __CODESPAN_0_table in pf to allow jail to access the network:

```sh
# pfctl -t jails -T add 192.168.5.2 # 允许网络访问
```

Update System

```sh
# jexec ubuntu /bin/bash # 此时位于 FreeBSD！
Ubuntu # apt remove rsyslog  # 此时位于 Ubuntu Jail!
Ubuntu # apt update # 此时位于 Ubuntu Jail!
```

Or use

```sh
# jexec -l debian /bin/bash -c 'apt remove rsyslog'
# jexec -l debian /bin/bash -c 'apt update'
```

process and same debian jail。

# Create AntiX llinux jail

AntiX is based on debian and does not use systemd。

# Download mirror files and depress them

Install __CODESPAN_0_ to depress the linux filesystem mirror。

```sh
# pkg install squashfs-tools
```

AntiX linux provides four mirror versions, full, base, core, net, download the core version here:

```sh
# fetch https://mirrors.tuna.tsinghua.edu.cn/mxlinux-isos/ANTIX/Final/antiX-23.2/antiX-23.2_x64-core.iso
# mdconfig antiX-23.2_x64-core.iso
# mount -t cd9660 /dev/md0 /mnt
# mkdir -p /usr/jails/antix
# unsquashfs -d /usr/jails/antix /mnt/antiX/linuxfs
# touch /usr/jails/antix/dev/fd
# touch /usr/jails/antix/dev/shm
```

# Configure Antix jail

CREATE __CODESPAN_0_, AS FOLLOWS:

```sh
devfs      /usr/jails/antix/dev      devfs       rw                      0  0
tmpfs      /usr/jails/antix/dev/shm  tmpfs       rw,size=1g,mode=1777    0  0
fdescfs    /usr/jails/antix/dev/fd   fdescfs     rw,linrdlnk             0  0
linprocfs  /usr/jails/antix/proc     linprocfs   rw                      0  0
linsysfs   /usr/jails/antix/sys      linsysfs    rw                      0  0
/tmp       /usr/jails/antix/tmp      nullfs      rw                      0  0
```

Write in __CODESPAN_0_ (only antix is shown here)

```sh
antix {
  host.hostname = antix;
  mount.fstab = /etc/fstab.antix;
  path = /usr/jails/antix;
  devfs_ruleset = 4;
  enforce_statfs = 1;
  allow.mount;
  allow.mount.devfs;
  exec.start = '/etc/init.d/rc 3';
  exec.stop = '/etc/init.d/rc 0';
  persist;
  allow.raw_sockets;
  interface = lo1;
  ip4.addr = 192.168.5.3;
  ip6 = disable;
}
```

HERE __CODESPAN_0_ IS SET TO __CODESPAN_1_。

As already mentioned in the part of debian jail, debian uses systemd as an initialization system. This cannot be used in jail, so start with __CODESPAN_0_ to ensure that nothing is done, only to safely return the true value。

antiX does not use systemd as an initialization system and can be initialized by rc: Here __CODESPAN_0_ Specifies antix jail to use rc at startup to initialize jail at the 3rd running level. The service running problem mentioned in the debian jail does not exist here (i.e. the service can be run directly at the jail start, for example sshd)。

Update System

- Set it up and start

```sh
# sysrc jail_list+=antix
# jail -c antix   # 或者使用 service jail start antix 前面已经提到
```

- allow internet access in pf, as above。

```sh
# pfctl -t jails -T add 192.168.5.3
```

- now enter jail:

```sh
# jexec antix /bin/bash     # 物理机（FreeBSD）中
root@antix:/# echo "nameserver 223.5.5.5" > /etc/resolv.conf    # jail 中，注意提示符变化，先设置地址解析，这里使用阿里 DNS
root@antix:/# echo "APT::Cache-Start 90000000;" >> /etc/apt/apt.conf   # `APT::Cache-Start` 是 apt 使用缓存的大小，默认 20m 太小，按提示增大
root@antix:/# apt update         # 可以先修改 `/etc/apt/sources.list.d/` 中的文件以使用镜像站，请参考各镜像站中 debian 的镜像站设置
root@antix:/# apt upgrade
root@antix:/# mandb       # apt upgrade 的时候显示 mandb 有几个权限错误，多执行几遍  `mandb` 命令就是。
```

# Create Alpine jail

- Build basic systems

```sh
# fetch http://mirrors.ustc.edu.cn/alpine/v3.17/releases/x86_64/alpine-minirootfs-3.17.1-x86_64.tar.gz
# mkdir -p /usr/jails/alpine
# tar zxf alpine-minirootfs-3.17.1-x86_64.tar.gz -C /usr/jails/alpine/
# touch /usr/jails/alpine/dev/shm
# touch /usr/jails/alpine/dev/fd
```

- CREATE __CODESPAN_0, WHICH READS:

```sh
devfs      /usr/jails/alpine/dev      devfs       rw                      0  0
tmpfs      /usr/jails/alpine/dev/shm  tmpfs       rw,size=1g,mode=1777    0  0
fdescfs    /usr/jails/alpine/dev/fd   fdescfs     rw,linrdlnk             0  0
linprocfs  /usr/jails/alpine/proc     linprocfs   rw                      0  0
linsysfs   /usr/jails/alpine/sys      linsysfs    rw                      0  0
#/tmp       /usr/jails/alpine/tmp      nullfs      rw                      0  0
```

- IN ___CODESPAN_0_

```sh
alpine {
  host.hostname = alpine;
  mount.fstab = /etc/fstab.alpine;
  path = /usr/jails/alpine;
  devfs_ruleset = 4;
  enforce_statfs = 1;
  allow.mount;
  allow.mount.devfs;
  exec.start = '/bin/true';  # minirootfs 里还没有初始化系统，所以还是用 '/bin/true'，下面会设置 openrc
  exec.stop = '/bin/true';
  persist;
  allow.raw_sockets;
  interface = lo1;
  ip4.addr = 192.168.5.4;
  ip6 = disable;
}
```

- Set the starter up, then start

```sh
# sysrc jail_list+=alpine
# jail -c alpine
```

- allow internet access in pf, as above。

```sh
# pfctl -t jails -T add 192.168.5.4
```

- now enter jail:

```sh
freebsd # jexec alpine /bin/sh        # 初始只有 sh，注意 shell 提示符的变化
alpine # sed  -i 's/dl-cdn.alpinelinux.org/mirrors.ustc.edu.cn/' /etc/apk/repositories    # 修改镜像地址
alpine # echo 'nameserver 223.5.5.5' >> /etc/resolv.conf      #  初始没有这个文件，自建一个
alpine # apk update             # alpine 可以不使用 openrc 而使用程序，但是不能启动各种服务，只有在安装 openrc 后才能启动各项服务，所以最好安装 openrc 以获得更好的体验
alpine # apk add openrc         # 安装 openrc 作为初始化系统
alpine # mkdir /run/openrc
alpine # touch /run/openrc/softlevel      # openrc 提示在 docker/chroot/jail 环境中应该建立这个文件
alpine # exit    # 注意 shell 提示符的变化
freebsd # jail -r alpine    # 先关闭 alpine，以使在 freebsd 宿主机中进行 openrc 配置
```

- Modify the configuration of alpine in __CODESPAN_0:

```sh
alpine {
  host.hostname = alpine;
  mount.fstab = /etc/fstab.alpine;
  path = /usr/jails/alpine;
  devfs_ruleset = 4;
  enforce_statfs = 1;
  allow.mount;
  allow.mount.devfs;
  exec.start = '/sbin/openrc default';  # 此处修改，使用 openrc 作初始化系统，以 default 运行级初始化系统
  exec.stop = '/sbin/openrc shutdown';  # 此处修改，使用 openrc 作初始化系统，以 shutdown 运行级运行关闭任务
  persist;
  allow.raw_sockets;
  interface = lo1;
  ip4.addr = 192.168.5.4;
  ip6 = disable;
}
```

- restart alpine

```sh
# jail -c alpine
```

# GUI of jail

This document is based on the Windows 10 Physical Machine, a FreeBSD 13.1 virtual machine installed in the virtualbox。

Four jails have been deployed in FreeBSD virtual machines, as follows. Here's a freebsd jail that distinguishes it from the FreeBSD virtual machine in the virtualbox, which we call ___CODESPAN_0:

Windows 10 Physical Machine ⇨ FreeBSD 13.1 Virtual Machine FreeBSD Jail (__CODESPAN_0_) + Debian Jail + Ubuntu Jail + Alpine Jail。

```sh
# jls
   JID  IP Address      Hostname                      Path
     1  192.168.5.3     debian                      /usr/jails/debian
     2  192.168.5.4     ubuntu                    /usr/jails/ubuntu
     3  192.168.5.2     alpine                        /usr/jails/alpine
     4  192.168.5.1     freebsd-jail                  /usr/jails/freebsd-jail
```

each of the four jails is equipped with xclock, firebox, chrome, jwm。

in freebsd-jail, debian, ubuntu, alpine (alpine using vnc method unsuccessful, other methods xclock, xterm running, firefox and crome unsuccessful) all worked, and jwm used to be aesthetic。

>** Skills**
>
> do not install xorg。

of which, in ubuntu 22.04, firefox, chrome requires snap, snap needs ssystemd, unserviceable, so it is installed in the deb package. the methodology is as follows:

```sh
# wget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb
# dpkg -i google-chrome-stable_current_amd64.deb
# apt install ./google-chrome-stable_current_amd64.deb
```

# The terminal with X Server

Here's the MobaXterm. MobaXterm default configuration, no redundant configuration。

![.. ..getbook/assets/jailx11mobaxstart.png]

Ensure that Xserver is enabled to write down __CODESPAN_0_value, in format __CODESPAN_1_ this is __CODESPAN_2_2_

login jail (open-ended, can be ssh, can be jexec; open-ended, can be ordinary, not necessarily root, wheel group members)

```sh
$ export DISPLAY=192.168.56.1:0.0  # jail 中，这里是 sh/zsh/bash。csh/tcsh 是 setenv DISPLAY 192.168.56.1:0.0，下同
$ xclock&
```

![..gitbook/assets/jailx11mobaxclock.png]

4 xclocks can be shown independently on Windows 10 desktops, with a better effect。

# Embedded X Server

X Server in X Server, which uses Xnest/Xephyr, Xnest/Xephyr for X11 applications is X Server and X Clinic for host X Server。

- Installation of Xnest or Xephyr in FreeBSD virtual machines. One or the other:

```sh
# pkg install Xnest
```

Or..

```sh
# pkg install Xephyr
```

- Enabled in FreeBSD

```sh
$ Xephyr :1 -listen tcp  # 不需要 root 权限
```

- ___ CODESPAN_0__, i.e. __ CODESPAN_2__, which refers above to __ CODESPAN_1_. The freeBSSD system IP is __CODESPAN_3, so the full `DISPLAY` is __CODESPAN_5_. __CODESPAN_6_value_CODESPAN_7__, starting with __CODESPAN_8_
-_CODESPAN_0_INTERCEPTION TCP PORT

- of the four jails, do the same thing above

```sh
$ export DISPLAY=10.0.2.15:1.0
$ xclock&
```

Four jails can open xclock at the same time in a Xnest/Xephyr window on FreeBSD. But the xclock at this time is because there is no window manager, the interface is ugly, and even the minimum drag is impossible. You can do jwm before xclock, as follows。

```sh
$ export DISPLAY=10.0.2.15:1.0
$ jwm &
$ xclock&
```

Note here that {\cHFFFFFF}{\cH00FFFF} {\cHFFFFFF}{\cH00FFFF} {\cHFFFFFF}{\cH00FFFF} {\cHFFFFFF}{\cH00FFFF} {\cHFFFFFF}{\cH00FFFF} {\cHFFFFFF}{\cH00FFFF}{\cH00FF00} {\cHFFFFFF}{\cH00FF00} {\cHFFFFFF}{\cH00FF00} {\cHFFFFFF}{\cH00FF00} {\cHFFFFFF}{\cH00FF00} {\cHFFFFFF} {\cHFFFFFF}{\cH00FF00 {\cHFFFFFF} {\cHFFFFFF} {\cHFFFFFF} {\cHFFFFFF}{\cH00FF} {\cH00FF00 {\cHFFFFFF} {\cH00FF00} {\cH00FF00} {\f Here's just the lightweight, xfce and so on. You can try it yourself。

share host mode

- First on FreeBSD

```sh
$ xhost +
```

- Close access control:

Then add the following to the jail __CODESPAN_0_, with the example of ubuntu jail `fstab`_, other jail reference changes will suffice。

```sh
/tmp/.X11-unix   /usr/jails/ubuntu/tmp/.X11-unix    nullfs   ro   0  0
```

ENSURE THAT THERE ARE MOUNT POINTS。

after restarting jail, execute in jail:

```sh
$ export DISPLAY=:0.0
$ xclock &
```

__CODESPAN_0..

```sh
#/tmp   /usr/jails/ubuntu/tmp   nullfs  rw    0  0
```

Although it is written in many curricula, I think it's not safe to say so. If this is the case, the __CODESPAN_0_ catalogue of FreeBSSD will be exposed to Jail and, because it is readable: the __CODESPAN_1_catalogue of FreeBSSD can be written in Jail. This undermines the isolation of Jail from FreeBSD and is not safe. Read only CODESPAN_2 has greatly improved safety。

# X Server tcp Intercept and xhost connection management

i use the sddm desktop manager here, and if you use another desktop manager, please refer to the corresponding desktop manager's document, in the same way。

New __CODESPAN_0 (if not) in FreeBSD, amend __CODESPAN_1 to read as follows:

```sh
[X11]
ServerArguments=-listen tcp
```

After restarting, FreeBSD adds the jail IP on to allow access (no root permission required):

```sh
$ xhost + 192.168.5.1  # 这里不建议用上面的提到 `xhost +` 方式关闭访问控制，以避免意料外的连接
```

then in jail, execute:

```sh
$ export DISPLAY=:0.0
$ xclock &
```

- HERE CODESPAN_0, CODESPAN_1 , CODESPAN_2 , CODESPAN_3 , ALL SUCCEEDED, AND SOME OF THE ABOVE CAN BE TRIED。

# VNC

install vnc servicer in jail, using tightvnc-server, or tigervnc-server, for example in debian jail, in jail

```sh
# apt install tightvncserver
$ vncpasswd           # 这里不要求 root 用户
Password:
Verify:
Would you like to enter a view-only password (y/n)? n
A view-only password is not used
$ vncserver :0        # 同样不要求 root 用户，vncserver 的端口号为 5900 加上冒号后的数字，现在为 5900，`:1` 端口号 5901，以此类推。
```

use vnc client login

![.. ..gitbook/assets/jailx11vnc1.png]

![.. .gitbook/assets/jailx11vnc2.png]

![.. ..gitbook/assets/jailx11vnc3.png]

Remarks

The host X Server tcp intercepts and xhost connection management is one of the least secure, being one of the reasons for the tcp interception default shutdown。

the shared host socket approach notes that the two points mentioned above are safe or secure。

The first four methods are "four writings" and all X Server connections. In addition to the terminal with X Server and the sharing socket, three other ways would be best to fit a desktop inside jail。

The terminals with X Server, shared host socket, vnc are more recommended. Either way, the linux jail doesn't require every X application to run, which is really hard to do, after all, not 100% compatibility, much better if there is freebsd jail。

except for the shared host socket method, all other methods are non-jail environments that can be applied。


# References

Additional running software and methods are available at [https://wiki.freebsd.org/LinuxApps] (https://wiki.freebsd.org/LinuxApps)。

Website:

- [12.2. Configure Linux Binary Compatibility Layer (https://handbook.bsdcn.org/di-12-zhang-linux-er-jin-zhi-jian-rong-ceng/12.2.-pei-zhi-linux-er-jin-zhi-jian-rong-ceng.html)
- [linux-Linux ABI support] (https://www.freebsd.org/cgi/man.cgi?linux)
- [wiki/Linuxulator] (https://wiki.freebsd.org/Linuxulator)
- [wiki/Linux Jails] (https://wiki.freebsd.org/Linuxjails)
- [12.3. Linux Userspace] (https://handbook.bsdcn.org/di-12-zhang-linux-er-jin-zhi-jian-rong-ceng/12.3.-linux-yong-hu-kong-jian.html)

