Section 2.3 UNIX Foundation (new introductory version)

# The difference between the UNIX directory and the Windows directory

First of all, we appreciate the following two photographs:


![.. ..gitbook/assets/zhuzi-2.jpg)

(.. . . . . . . . . . . . . . . . . . . . . . . . . . . . .

The former was bamboo and the second was several side trees.

Aristotle believes that seeds grow into large trees because they imply a potential and, when the environment is satisfied, they are likely to grow into a tree (see Shape to School 1049b). The difference between human beings is that they have no fixed potential, which is also consistent with the Confucian doctrine of â€œgentlemen are uselessâ€ (The Word for Government). Understanding the differences between the UNIX directory and the Windows directory is important for an in-depth understanding of the design and realization of the operating system.

We've all heard the story that Bambusoideae flowering means the death of a large piece of bamboo forest. This is because most of the seemingly rich bamboo forests are likely to end with only one single bamboo. These bamboo are grown from the same underground roots, and although they look multiple, they are a whole. And that's what springs after rain. No matter how far away they go, they're all good and bad. This is the UNIX directory - all directories in the system depend on root. Roots (`/`) are the starting point of any catalogue. `/home/ykla/nihao ' , `/bin/sh ' , `/etc/fstab ' , for example, all have roots. In other words, if you delete `/ ' , it would be tantamount to deleting the entire system and the catalogues on all devices would be deleted.

In contrast, each of the ordinary side trees grows independently. No matter how close they depend, they remain independent. Like Windows catalogues, walk trees are independent - `C:\Program Files(x86)\Google\Update', `D:\BaiduNetdiskDownload\ List of Tools ' , `E: `C ' , `D ' , `E ' `E ' , `E ' , `E ' , are independent and non-disturbed. You format the `D ' disk without affecting the files stored in the `E ' disk. Even if you had formatted the `C ' disc in the PE (which may not be called the `C ' disc), it would not affect the document in the `E ' disc.

In fact, Windows' â€œdiscreteâ€ does not exist at all, and experienced aircraft operators will find that, in the PE, the `C`discretion becomes other discs such as `X ' . Windows, which is in use, can also be distributed freely. Under Windows, the real determination of whether a partition is a `C ' disc is based on the GPT partition type UUID (e.g., my `C ' partition type UUID is `EBD0A2-B9E5-4433-87C0-68B6B72699C7 ' ) and the only ID (configuration in the EFI file) rather than on the disc. The discs are abstracted, and actually have no meaning. This is why you do not see the underlying cause of `C ' disks in other operating systems, including Windows yourself (e.g., dual systems), because there is no hard-coded `C ' disk identification for the file system. Only when the system is really activated will Windows know who the `C ' disc is and write it in the registration form. As for the distribution of the other discs, it is entirely on luck that the problem of `D ' changes the `E ' disc is also common: Because some virtual PV could suddenly be plugged in when it's on, and so on.

>** Thinking issues**
>
>Reading the Windows Operating System (7th ed.) (Vol. 2) (978711567, People ' s Post and Telecommunications) and other relevant literature to answer the question: How does Windows recognize the `C ' disc, guided by the traditional BIOS + MBR?

# How to understand UNIX mount and unmount

![.. ..gitbook/assets/jiajie.png]

When I was a kid, people in the garden knew that it was often necessary to cut a branch from the tree A, to stick it in the tree B, and wrap it up, and heal it and become one: For example, peaches can grow on apple trees (mounting Windows ' `C ' discs). This method is called â€œmarriageâ€. In fact, the branch of Tree A (the file system) is mounted on Tree B (the dow point, a mount point, ultimately depends on the root directory `/ ' ).


![..gitbook/assets/qiancha.png]

And those who know about horticulture think that it is no stranger to the way in which plants are grown: to break down a tree's new side branch into the earth. A new seedling will emerge from careful care for some time. In practice, this is in line with the principle of â€œoffloadingâ€: â€œdefeatingâ€ (offloading) a document system (e.g. `mnt/test ' ) from its full roots (`/ ' ).


# The difference between UNIX and Windows filenames

# # Invalid character #

Many files or filenames available in FreeBSD are not allowed in Windows (i.e. illegal characters). These are things you often encounter -- if you use Git to pull projects on Windows.

Here, only some of the penists have met:

- You can't have an English impostor.

![.../.gitbook/assets/Windows1.png]

- Can't call 'con '



![..gitbook/assets/Windows2.png]

For more information see Microsoft Official Document [name file, path and namespace] (https://learn.microsoft.com/zh-cn/windows/win32/fileio/naming-a-file).

>** Skills**
>
> You can use the guit tool to pull [freebsd-doc] under Windows (https://github.com/freebsd/freebsd-doc) projects to try to be successful. I've reported Bug.
>
> [The Colonel in the file name of the security report of the FreeBSD doc is not common with Microsoft Windows.org/bugzilla/show_bug.cgi?id=26636)

# Case sensitive #

FreeBSD ZFS and UFS are both ** case sensitive** file systems. The MacOS HFC+ (default not supported), the APFS (default not supported) and the Windows FAT32 and NTFS file systems are all ** case insensitive**.

- Windows ** Case insensitive**

![..gitbook/assets/Windows3.png]

See, abbc and ABC can't coexist, the file system thinks it's the same file.

>** Skills**
>
The simplest way to judge the type of server to access the site is to see if the site path is case-sensitive: If the website `https://abc.com/abc ' and `https://abc.com/ABC ' are open and have the same content, then most of the site is driven by Windows.

- FreeBSD ** Case sensitive**

```sh '
Touch ABC
$ touch abc
$ls
abc ABC
````

See, abbc and ABC can coexist, and the file system thinks it's two different files.


References

- [Adjust case-sensitive] (https://learn.microsoft.com/zh-cn/windows/wsl/case-sensitability), Windows file systems support the use of attribute labels for case-specification by directory settings

# Windows and Unix line break/back

Carriage Return, CR and Line Feed, LF are different concepts, all of which arise from the age of the tele typewriter (real TTY).

- Return CR: Move the cursor to the beginning of the current line;
- Line Break LF: Move the cursor straight down to the next line.

You can see that in the early days the two were independent, otherwise the CRLF would cause the current line to sink.

The default line break for the Windows operating system is CRLF (i.e. \\r\n, 0x0D 0x0A, ^M$`), while the default use of LF (i.e. \\n, 0x0A, `$') is for Unix (early macOS is \\r, 0x0D).

Of course, these symbols now appear at the end of each line of text (that is, each line exists).

The two are incompatible, and if you place a Windows line break file below UNIX, this could lead to an additional `M' character at the end of each line, which could cause an error of identification for some tools, and multi-line recognition for FreeBSD Port related files.

But two line breaks can be converted. Under FreeBSD, this can be done by Port `converts/ dos2unix ', which contains two commands: `dos2unix ' (Windows line break to Unix), `unix2dos ' (Unix line break to Windows). The basic usage is `$dos2unix -n a.txt b.txt ' , and `$dos2unix a.txt b.txt c.txt ' (one-time conversion of multiple files) if the source file is not required. Line breaks for files can be judged by command `file a.txt ':

- Use a normal Unix line break text file

```sh '
$file a.txt
a.txt: Unicode text, UTF-8 text
````

- Text file with Windows line breaks

```sh '
$3.txt
b. txt: Unicode text, UTF-8 text, with very long lines (314), with CRLF line terminators
````

# Windows and Unix character encoding

Because computers only recognize `0 ' and`1 ' , so character coding is a system of rules for converting characters to numbers. Characters can be visible text on the screen, or can be invisible control marks, such as line breaks (LF), returners (CRs) etc., which cover elements commonly found in text, such as numbers, Emoji emoticons, Han characters, Latin letters, etc. Encoding is the process by which the only digital identifier (usually the integer), code point (code point), is assigned to these characters.

For example, `0x41 ' (i.e. binary `0100 0001 ') represents capital letters `A ' in the ASCII (American Standard Code for Information Exchange International, ISO/EEC 646) code. The ASCII code only supports letters, numbers and common English dot symbols - a total of 128 characters.

And in the Unicode coding system, the code point for "you" is U+4F60. Under the UTF-8 (8-bit Unicode Transport Format, 8-bit Unicode conversion format), it is encoded as a byte series `0xE4 0xBD 0xA0 ' (binary to `11100100 101111101 100000000). The UTF-8 code covers a much larger range of characters than GBK (national `G ' standard B ' extension `K ' ) and even Egyptian holy books -- If you can now see the three characters " ð“€€ "ð“ŒŠ" on your screen, then you are probably using UTF-8 (if you use UTF-8 code but are not able to display these characters, it is likely that fonts do not support these character sets, not encode problems).

How does the program identify the text code? Usually, some files begin with a specific byte sequence (i.e. BOM, byte order mark, byte tag). For example, BOM for UTF-8 is `0xEF 0xBB 0xBF ' . In practice, however, many text files do not have BOM, so the reading program needs to guess coding formats through context, which often leads to obfuscation. Although it is possible to guess coding through program analysis of text content (e.g. statistical character distribution or extraction), this method is not always reliable. The coding problem is inherently caused by the fact that the inter-system default coding is different or not clearly assigned.

Windows defaults to use GBK (if the system language is Chinese, it is a GB2312 superset), while Linux or UNIX uses UTF-8.

Windows 11 24H2

``Powershell '
PS: \rs\ykla>chcp
Activity Code Page: 936 # is GBK
````

Ubuntu 24.04/FreeBSD

```sh '
Root@ykla:/home/ykla#locale charmap
UTF-8
````

Of these, FreeBSD is coded in [main/usr.bin/login/login.conf] (https://github.com/freebsd/freebsd-src/blob/main/usr.bin/login/login.conf) this source document, and the encoded path is `/etc/login.conf ' .

Naturally, you can also set the character code for Windows 10 and subsequent versions to UTF-8. This, of course, is not an effective solution beyond the additional coding problem.


References

- [Code pages] (https://learn.microsoft.com/en-us/globalization/encoding/code-pages), Microsoft Officially, 936 is GBK.

# Windows and Unix Time Settings

China uses a single Time Zone, the Eastern Zone, UTC+8, UTC (Coordinated Universal Time), almost the same time as GMT (Greenwich Mean Time, Greenwich Time). UTC is based (not entirely consistent) on the length of seconds at international atoms: when Cs frequency Î”Î½Cs, i.e. cesium 133, the non-disturbing substrate super-precision jump frequency, defined by a fixed value of 9,192,631,770 in units Hz, s-1 - various amendments were made to international atoms.

Those with Windows and Unix dual system installation experience will find that Windows and Unix are always eight hours short. On modern computers (usually on the main panel) there is a RTC (Real-time clock chip, real-time clock chip) chip powered by button batteries, which is used to maintain the timing of system failure.

The computer operating system will read RTC time when it starts. RTC time does not indicate time zone.

Windows will read the results of the RTC directly as the default local time, i.e., Local Time (local time, local sun running time); Unix will consider the RTC data as UTC time: So you'll find a two-system rewind in time for eight hours.

For example, if the RTC time is â€œ12 noon during the day of June 6th, 2025 (i.e. UTC+8), then Windows is also â€œ12 noon during the day of June 6th, 2025â€ (i.e. UTC+8), but under Unix, the time becomes â€œ4:00 during the day of June 6th, 2025â€ (i.e. UTC+8-8). Because we use UTC+8, the difference is eight hours.

For modern computer networks, time is of the essence, so we can do a little experiment, slow the time down for five minutes, turn on the browser, and you'll find that most websites can't open (HTTPS).

The time zone in the computer is regulated by the IANA Time Zone database, which has a long history.

In its twenty-eighth year (1939), the Government of the Republic of China divided China into five time zones, divided into Harbin (`Asia/Harbin ' ), Shanghai (`Asia/Shanghai ' ), Chongqing (`Asia/Chongqing ' ), Urumqi (`Asia/Urumqi ' ) and Kash (`Asia/Kashgar ' ).

We know that Xinjiang is the Eastern Six Region (although Beijing time is used nationally). Geographically, Xinjiang is actually two hours away from Beijing time. In fact, if the sun comes out at 8:00 in East Eight, Xinjiang comes out at 10:00.

In the Time Zone database 2025b, `Asia/Harbin ' , `Asia/Chongqing ' and `Asia/Shanghai ' are all equivalent to Beijing time. `Asia/Urumqi ' and `Asia/Kashgar ' are both `UTC+6 ' Eastern Six Time.

In FreeBSD, Beijing time is also `Asia/Shanghai ' (East Eight District). Some so-called national production systems would have one `Asia/Beijing ' , which would not only be an act of disrespect for international standards and norms, but would also have serious consequences, such as the return of time to UTC.

Note**
>
> Beijing (116Â° East) does not exactly equal UTC+8. The Beijing time we're talking about is not Beijing, but 120 degrees East.


>** Skills**
>
>China also had summer days (slowing the watch a few hours in the summer because it was early).


>** Thinking issues**
>
What time zone does outer space use? Why?

References

- [Definition of seconds] (https://www.nim.ac.cn/520/node/4.html), Definition of seconds carried by the Chinese Academy of Metrology
- [Time Zone Database] (https://www.iana.org/time-zones)
