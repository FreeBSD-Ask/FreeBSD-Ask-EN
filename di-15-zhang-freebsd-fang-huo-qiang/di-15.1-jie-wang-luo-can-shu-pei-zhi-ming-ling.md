# Section 15.1 Network parameter configuration command

# Manual settings `resolv.conf '

After manually editing `/etc/resolv.conf ' , restarting the system will be reset because DHCP will rewrite the document.

Prevent `resolvconf ' service coverage `resolv.conf ': Edit `/etc/resolvconf.conf ' , writing `resolvconf=NO '

References

- [resolvconf] (https://man.freebsd.org/cgi/man.cgi?query=resolvconf), man manual
- [8.8.8.8.8 or 1.1.1.1 if set in etc resolv conf doesn't stay as an entry in the file after a network restart] (https://forums.freebsd.org/threads/8-8-8-8-or-1-1-1-if-set-1-in-tc-resolv-conf-doesnt-stay-as-an-entry-in-the-file-after-a-network-rest859551/)

# If config'

First, `ifconfig ' to see if there are web cards and if there are none, it is outside the scope of this section. Please note that `lo0 ' is not a real card, and if you can only see this means that your card is not being correctly driven.

Example output:

```sh '
# If config
genet0: flags=8843<UP, BRODADAST, RUNING, SIMPLEX, MULTICAST>Metric 0 mtu 1500
Options = 68000b < RXCSUM, TXCSM, VLAN_MTU, LINKSTATE, RXCSUM_IPV6, TXCSUM_IPV6>
Other dc: a6: 1a:2e:f4:4t
Inet. 192.168.123.157 netmask 0xffffff00 Broadcast 192.168.123.255
Media: Ethernet effect (1000baseT<full-duplex>)
Status: active
nd6 options =29<PERFORMND, IFDISABLED, AUTO_LINKLOCAL>
== sync, corrected by elderman == @elder_man
Options =680003 < RXCSUM, TXCSUM, LINKSTATE, RXCUM_IPV6, TXCSUM_IPV6>
Inet-6-1 prefixlen 128
Inet6fe80: 1%lo0prefixlen 64 standard 0x2
Inet 127.0.0.1 netmask 0xff00000
I'm sorry.
Nd6 options =21 <PERFORMND, AUTO_LINKLOCAL>
Root@ykla:
````

Configure DNS


Edit `/etc/resolv.conf ' to clear the original contents. Add the following:

```sh '
# Ali DNS, same as
Nameserver 223.6.6.6.6
# Google DNS, for offshore equipment
````

Then reset the network configuration:

```sh '
# /etc/netstart
````

Try pinging a 163com. (Ctrl + C interruptable), Example output:

```sh '
# Ping163com
PING163.com (123.58.180.7): 56 data bytes
64 bytes from 123.58.180.7: icmp_seq=0ttl=55 time=30.617 ms
64 bytes from 123.58.180.7: icmp_seq=1 ttl=55 time=30.608 ms
64 bytes from 123.58.180.7: icmp_seq=2 ttl=55 time=30.633 ms
**Ctrl** +C
--163..
3 packs transferred, 3 packs received, 0% lost
= 30.608/30.619/30.633/0.010 ms.
Root@ykla:
````

Network connectivity.

# Set the card in mixed mode

```sh '
If config_xx= "inet x.x.x.x netmask x.x.x.x.x promisc"
````

References

- [ifconfig (8)] (https://man.freebsd.org/cgi/man.cgi?ifconfig (8))

# `/etc/rc.conf ' Related

>** Skills**
>
> `ifconfig ' commands are mostly one-off, not permanent configurations. You have to write rc files to last.

`/etc/rc.conf ' :

```ini '
hostname = "ykla"# hostname, not empty, cannot use xorg
If config_igc0= "DHCP"
Ifconfig_igc0="inet 192,168.31.77 netmask 255,255.255.0"# IPv4 for igc0 is 192,168.31.77 and subnet mask is 255,255.255.0 (static IP)
default gateway/ default router, usually a router at home IP
Ifconfig_igc0_alias0 = "inet 192.168.1.33 netmask 255.255.255.0" # set up webcard igc0 alias IPv4192.168.1.33 with subnet mask of 255.255.255.0. has an additional IPv4 address
# Static_routes= "static1 status2"
Route_static1 = "-net 10.10.0/24.10.1.1" # If you want access to this network (10.00.00.0 to 10.0.10.254), send the package to 10.0.1.1 for forwarding
Route_static2 = "-net 172.16.3.0.0/24 172.16.1.254" # If you want access to the network 172.16.0.0/24 (172.16.30.1 to 172.16.30.254), send the package to 172.16.1.254 for forwarding
````

1 For more than one configuration to be written in `/etc/rc.conf ' , only this format can be written as `ABC_XYZ='xx yyyccc dddd'.

If in `/etc/rc.conf '

```ini '
ABC_XYZ = "xx"
ABC_XYZ = "yyy"
ABC_XYZ=ccc
ABC_XYZ=ddd
````

This form will take effect only in the first line, and the remaining `ABC_XYZ ' configuration lines will not take effect!


# See the speed of the net

Refresh every 2 seconds:

```sh '
# Systat-if2
````

# View FreeBSD download traffic (net-mgmt/bwm-ng)

```sh '
# pkg install bwm-ng
# bwm-ng
bwm-ng v0. 6.3 (probing every 0.500s), press 'h' for help
Input: getifadrs type:
/ France Rx Tx Total
= = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = =  = =  = =  *
Em0: 2.04 MB/s 6.03 KB/s 2.05 MB/s
lo0: 0.00 B/s 0.00 B/s 0.00 B/s
vm-public: 2.04 MB/s 2.05 MB/s 4.09 MB/s
Tap0: 5.49 KB/s 2.04 MB/s 2.04 MB/s
- - - - - - - - - - - - - - - - - - - - - - - -
Total: 4.09 MB/s4.09 MB/s 8.18 MB/s
````

Alphabetical `d ' toggle flow formats. By `h ' , more methods of use are available.
ã€‚