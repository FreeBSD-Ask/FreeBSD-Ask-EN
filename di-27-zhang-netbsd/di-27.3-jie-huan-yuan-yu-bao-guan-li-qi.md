# Section 27.3 NetBSD Source & Package Manager


NetBSD 's package manager is pkgsrc and supports binary and source code compilation installation. The binary commands are __CODESPAN_0 (e.g. __CODESPAN_1) and __CODESPAN_2_。

# Binary Source

NetBSD 10.1 for example:

- Open Source Mirror Station, Nanjing University:

```sh
# echo https://mirrors.nju.edu.cn/pkgsrc/packages/NetBSD/x86_64/10.1/All/  > /usr/pkg/etc/pkgin/repositories.conf
```

- TUNA

```sh
# echo https://mirrors.tuna.tsinghua.edu.cn/pkgsrc/packages/NetBSD/amd64/10.1/All/  > /usr/pkg/etc/pkgin/repositories.conf
```

The source of NetBSD, which requires attention, is confusing, and sometimes a source does not meet the requirements, needs to be replaced by a few more sources, or a direct Google search for “packages +netbsd.org”, such as “kde4 netbsd.org”, which points are provided by domain names such as <https://cdn.netbsd.org/pub/pkgsrc/curent/pkgsrc/print/libcups/index.html>。

Regular switching between the following sources:

```sh
# echo http://mirrors.nju.edu.cn/pkgsrc/packages/NetBSD/x86_64/10.0_2024Q4/All/  > /usr/pkg/etc/pkgin/repositories.conf
```

References:

- [pkgsrc] (https://www.pkgsrc.org/), official installation instructions
- [pkgsrcmirror help] (https://mirrors.tuna.tsinghua.edu.cn/help/pkgsrc/)
- [pkgsrc with IPS] (https://nanxiao.me/pkgsrc-ang-ips/)

#pkgsrc compile installation

Similar to FreeBSD:

```sh
ykla# cd /usr/pkgsrc/meta-pkgs/kde
ykla# ls
CVS               Makefile          applications.mk   kf6.mk            plasma6.mk
DESCR             Makefile.common   kf5.mk            plasma5.mk
ykla# make install clean
===> Installing dependencies for kde-20240828
=> Tool dependency mktools-[0-9]*: NOT found
=> Verifying reinstall for ../../pkgtools/mktools
===> Installing dependencies for mktools-20250213
……省略……
```

# pkgsrc-wip project

It appears that there are many unfinished projects. But a lot of software depends on it。

```sh
# mkdir -p  /usr/pkgsrc/ # 创建目录。可能不存在
# cd /usr/pkgsrc/ # 进入目录
# pkgin install git # 安装 git
# git config --global http.proxy http://192.168.31.77:7890 # 设置代理。照抄不管用
# git config --global https.proxy http://192.168.31.77:7890 # 设置代理。照抄不管用
# git clone --depth 1 https://github.com/NetBSD/pkgsrc-wip wip # 拉取项目
```

References

- [The pkgsrc-wip project] (https://pkgsrc.org/wip)
