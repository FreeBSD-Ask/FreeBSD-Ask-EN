# Section 17.1 Apache

# Install

```sh
# cd /usr/ports/www/apache24/ 
# make install clean
```

or

```sh
# pkg install apache24
```

# See after installation

```sh
root@ykla:~ # pkg info -D apache24
apache24-2.4.63:
On install:
To run apache www server from startup, add apache24_enable="yes"
in your /etc/rc.conf. Extra options can be found in startup script.
# 要使 Apache WWW 服务器在启动时自动运行，请在 /etc/rc.conf 文件中添加 apache24_enable="yes"。
# 额外的选项可以在启动脚本中找到。

Your hostname must be capable of using at least 1 mechanism in
I'm not sure if I'm going to be able to do that
have issues starting depending on the motors you are using.

# Your hostname must be able to resolve through at least one of the mechanisms in /etc/nsswitch.conf, usually DNS or /etc/hosts。
# Otherwise, Apache may have problems at startup, depending on the module you use。

- Abache24 built changed from status MPM to Modular MPM
- more motors are now available per official in the port
- I'm sorry
# - apace24 Default build from static MPM to modular MPM。
# - More modules are now enabled by default in the port。
# - ICONS AND ERROR PAGES MOVED FROM WWWDIR TO DATADIR。

If built with motor MPM and no MPM is actually in
then mpm_preform will be acted as official
MPM in etc/apache24/modules.d to keep compliance with
i don't know what you're talking about!
# If built using modular MPM and not activated at httpd.conf, mpm_prefork will be activated as default MPM in etc/apache24/modules.d
# To maintain compatibility with existing PHP/Perl/Python modules

Please compare the example with httpd.conf.sample
i don't know, i don't know!
# please compare existing httpd.conf files with httpd.conf.sample files and merge missing modules/commands into httpd.conf files

On upward:
The default data form was changed from Berkeley DB 5
(deep) from ports to BerkeleyDB 1 from base libc.
# Uptime:
# The default database format is changed from BerkeleyDB 5 (disused) to BerkeleyDB 1 in base libc。

You must build all your data once after
upgrading from 2.4.62 to 2.4.62_1 or later.
# Upon upgrade, you have to reconstruct all (RewriteMap) databases, especially after upgrading from 2.4.62 to 2.4.62_1 or higher。
````

# Start service

- Add service to start

```sh
root@ykla:~ # service apache24 enable
apache24 enabled in /etc/rc.conf
root@ykla:~ # service apache24 start
```

- Start-up services (may take one minute):

```sh
root@ykla:~ # service apache24 start
Performing sanity check on apache24 configuration:
AH00558: httpd: Could not reliably determine the server's fully qualified domain name, using198.18.0.103. Set the 'ServerName' directive globally to suppress this message
Syntax OK
Starting apache24.
AH00558: httpd: Could not reliably determine the server's fully qualified domain name, using198.18.0.103. Set the 'ServerName' directive globally to suppress this message
```

- View Status

```sh
root@ykla:~ # service apache24 status
apache24 is running as pid 2068.
```


The pache service has been launched and can now open the web site ___CODESPAN_0_ or its ip to see:

[Apache FreeBSD] (..gitbook/assets/Apache1.png)

The Apace profile is in __CODESPAN_0, and the example file is __CODESPAN_1_. The root directory of the website is at ___CODESPAN_2_。



