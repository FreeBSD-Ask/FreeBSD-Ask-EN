# Section 17.5 MySQL 8.X


# Install

# MySQL 8.0 LTS

Installation:

```sh '
# pkg install mysql80-server
````

or compile installation:

```sh '
#cd/usr/ports/datases/mysql80-server/
# Make install clean
````

# MySQL 8.4 LTS

Installation:

```sh '
# pkg install mysql84-server
````

or compile installation:

```sh '
#cd/usr/ports/datases/mysql84-server/
# Make install clean
````

View post-installation instructions (8.0 similar):

```sh '
root@ykla:~pkginfo-D mysql84-server
Mysql84-server-8.4.3_1:
On install:
There is no password for first time use of MySQL. #
No initial password for MySQL when first used. # No password
Keep in mind to reset it to a secure password.
Remember to reset it as a secure password.

MySQL 8.4 has a default/usr/local/etc/mysql/my.cf,
Remember to place it with your own
"or set `mysql_optfile'.
MySQL 8.4 has a default /usr/local/etc/mysql/my.cnf,
Remember to replace it with your own file.
Or set `mysql_optfile='$YOUR_CNF_FILE ' in rc.conf.

On upward:
As of MySQL 8.0.16, the MySQL servicers perfores the upgrade tasks normally
Yes, by mysql_upgrade.
Already as of that version, and will be moved in a future MySQL version.
Starting with MySQL 8.0.16, MySQL server performs an upgrade previously processed by mysql_upgrade.
So, mysql_upgrade is no longer needed and has been discarded from that version.
will be removed from the future MySQL version.

Because mysql_upgrade no longer performs upward tasks,
No, it leaves with status 0 unconstructionally.
Because mysql_upgrade no longer performs the upgrade,
It exited unconditionally to state zero.
````

# Start service

```sh '
# With mysql-server available
Mysql enabled in/etc/rc.conf
# With mysql-server start
Starting mysql.
````

# Login

Mysql 8.0, 8.4 default passwords are empty, according to the post-installation note.

``sql
# Mysql-uroot-p
Enter password:
Come to the MySQL monitor.
Your MySQL condition id is 8
Server version: 8.0.27

Copyright (c) 2000, 2021, Oracle and/or its assets.

Oracle is a registered trademark of Oracle Corporation and/or its
Other names may be trademarks of their relevance.
I'm sorry, owners.

Type 'help;' or 'h' for help.

root@localhost [(none)]>
````

# Change password

Sets the root password for the database as `z ' , then refreshs the permissions and then exits.

```sh '
>alter user'root'@localhost' identified by 'z';
Query OK, 0rows affected (0.02 sec)

Root@localhost [(none)] >flush privileges;
Query OK, 0rows affected (0.00 sec)

Root@localhost [(none)] Quit;
Bye.
````

Re-entry:

``sql
# Mysql-uroot-p
Enter password:
Come to the MySQL monitor.
Your MySQL condition id is 9
Server version: 8.0.27

Copyright (c) 2000, 2021, Oracle and/or its assets.

Oracle is a registered trademark of Oracle Corporation and/or its
Other names may be trademarks of their relevance.
I'm sorry, owners.

Type 'help;' or 'h' for help.

> show data;
+ - - - - - +
Database
+ - - - - - +
Information_schema
Mysql
%1 %1
You can't do that.
+ - - - - - +
4rows in set (0.01 sec)

root@localhost [(none)]>
````

# Profile

The default configuration file template is in `/usr/local/etc/mysql/my.cnf.sample ' and the default profile is theoretically in `/usr/local/etc/mysql/my.cnf ' (but the default is empty).

This can be done:

```sh '
#cp /usr/local/etc/mysql/my.cnf.sample/usr/local/etc/mysql/my.cnf
````

It would then be sufficient to modify `/usr/local/etc/mysql/my.cnf ' as required.

In `/etc/rc.conf ' , write

```sh '
Mysql_optfile=/abc/xyz.cf
````

You can change the profile path.

ã€‚