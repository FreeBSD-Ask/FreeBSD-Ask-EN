# Section 17.2 Nginx

# Install

```
# pkg install nginx
```

or

```
# cd /usr/ports/www/nginx/ 
# make install clean
```

# # Find Related Packages

- Ports: __CODESPAN_0_
-Pkg: __CODESPAN_0_


# Start

```sh
root@ykla:~ # service nginx enable
nginx enabled in /etc/rc.conf
root@ykla:~ # service nginx start
Performing sanity check on nginx configuration:
nginx: the configuration file /usr/local/etc/nginx/nginx.conf syntax is ok
nginx: configuration file /usr/local/etc/nginx/nginx.conf test is successful
Starting nginx.
```

You can check nginx for start-up and running:

```sh
root@ykla:~ # sockstat -4 | grep nginx
www      nginx       1154 6   tcp4   *:80                  *:*
root     nginx       1153 6   tcp4   *:80                  *:*
```

# Browse the web

THIS MACHINE OPENS __CODESPAN_0, OR __CODESPAN_1 , SUCH AS __CODESPAN_2:

[NGINX FreeBSD] (. . .gitbook/assets/nginx1.png)

# Profile

Configure the curriculum can be found in [Office documents] (https://nginx.org/en/docs/)。

This paper simply describes how Nginx and Nginx profiles can be started in FreeBSD。

In FreeBSD, the Nginx configuration file is in __CODESPAN_0, while the main profile is __CODESPAN_1。

The root directory of Nginx in the default configuration is __CODESPAN_0. If you need to change the location of the directory, insert __CODESPAN_1_

```sh
root	/usr/local/www/nginx;
```

CHANGE TO THE DIRECTORY LOCATION YOU WANT, E. G

## # Example file (Nginx + Typecho pseudostatic + SSL)

```ini
#user  nobody;
worker_processes  1;

♪ This official logpath is complication-in to make sure configuring
♪ errors are logged somewhere, especially during unattended boot when stderr
This path will be touched on every nginx
# Start regardless of error log migration configured here
#https://trac.nginx.org/nginx/ticket/147 for more information.
# I don't know
#error_log/var/log/nginx/error.log;
# I don't know

#pid logs/nginx.pid;


this post is part of our special coverage syria protests 2011
we're going to have to do this;
♪ I'm sorry ♪


http {
i don't know;
_type application/octet-stream;

    #log_format  main  '$remote_addr - $remote_user [$time_local] "$request" '
    #                  '$status $body_bytes_sent "$http_referer" '
    #                  '"$http_user_agent" "$http_x_forwarded_for"';

    #access_log  logs/access.log  main;

    sendfile        on;
    #tcp_nopush     on;

    #keepalive_timeout  0;
    keepalive_timeout  65;

    #gzip  on;

    server {
        listen       80;
        server_name  localhost;

        #charset koi8-r;

        #access_log  logs/host.access.log  main;

organisation
root/usr/local/www/nginx;
i don't know;
if (-f $request_filename/index.html){
$ 1/index.html break;
♪ I'm sorry ♪
if (-f $request_filename/index.php){
$ 1/index.php;
♪ I'm sorry ♪
if (!-f $request_filename)
rewrite(.*)/index.php;}
♪ I'm sorry ♪


*. php(.*)*$)*
root/usr/local/www/nginx;
fastcgi_pass 127.0.0.1:9,000;
-fastcgi_index index.php;
fastcgi_param SCRIPT_FILANAME $request_filename;
include pastcgi_params;
♪ I'm sorry ♪





#location ~.*.php(.*)*$)*
# include pastcgi_params;
# fastcgi_pass127.0.0.1:9,000;
♪ I'm sorry ♪

        #error_page  404              /404.html;

        # redirect server error pages to the static page /50x.html
        #
        error_page   500 502 503 504  /50x.html;
        location = /50x.html {
            root   /usr/local/www/nginx-dist;
        }

        # proxy the PHP scripts to Apache listening on 127.0.0.1:80
        #
        #location ~ .php$ {
        #    proxy_pass   http://127.0.0.1;
        #}

        # pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000
        #
        location ~ .*.php(/.*)*$ {
            root           /usr/local/www/nginx;
            fastcgi_pass   127.0.0.1:9000;
            fastcgi_index  index.php;
            fastcgi_param  SCRIPT_FILENAME $request_filename;
            include        fastcgi_params;
        }

        # deny access to .htaccess files, if Apache's document root
        # concurs with nginx's one
        #
        #location ~ /.ht {
        #    deny  all;
        #}
    }


    # another virtual host using mix of IP-, name-, and port-based configuration
    #
    #server {
    #    listen       8000;
    #    listen       somename:8080;
    #    server_name  somename  alias  another.alias;

    #    location / {
    #        root   html;
    #        index  index.html index.htm;
    #    }
    #}


    # HTTPS server
    #
    server {
       listen       443;
       server_name  localhost;

        ssl_certificate      /usr/local/etc/nginx/fbxs.crt;
      ssl_certificate_key   /usr/local/etc/nginx/fbxs.key;

i'm sorry, ssl on;
i don't know;
ssl_certificate_key fbxs.key;
ssl_session_timeout 5m;
ssl_protocols TLSv1 TLSv1.1 TLSv1.2; # Configure according to this protocol
ssl_ciphers EDCHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE;# Configure with this package
ssl_prefer_server_ciphers on;
*. php(.*)*$)*
root/usr/local/www/nginx-dist;
fastcgi_pass 127.0.0.1:9,000;
-fastcgi_index index.php;
fastcgi_param SCRIPT_FILANAME $request_filename;
include pastcgi_params;
♪ I'm sorry ♪
organisation
root/usr/local/www/nginx-dist;
index index.php;
♪ I'm sorry ♪
♪ I'm sorry ♪

♪ I'm sorry ♪
````
