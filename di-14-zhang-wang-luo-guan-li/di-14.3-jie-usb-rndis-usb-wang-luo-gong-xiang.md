# Section 14.3 USB Network Sharing

The program was passed on the red rice phone (Red Note 12 5G) and theoretically supported Android and iOS.

For most of the new Androids, it is possible to supply the Ethernet to FreeBSD while turning on WiFi off traffic. So we don't run out of traffic:

Router (WiFi) ⇒ Cell phone (closure of data flow)⇒ FreeBSD (connected through data lines)

>** Skills**
>
> If it's a rooted Android device, you can also share the VPN of a mobile phone with FreeBSD via the data line. See software [VPN Hotspots] (https://play.google.com/store/apps/details?id=be.mygod.vpnotspot&hl=zh&pli=1). The method used is described in [Shared V2ray agent by creating Wifi hotspots] (https://www.sainhy.dev/post/v2ray-hotspot/).

First load the kernel module (old version required);

```sh '
# kldload if_urndis
# kldload if_ipeth # iOS etc
# kldload if_cdce # Other Android Devices
````

Load on startup and write to: `/boot/loader.conf ' .

```sh '
"YES"
If_cdce_load = "yes"
"YES"
````

Then connect the USB data line to FreeBSD and open the Ethernet network on the phone. Usually `ue0 ' , access to IP addresses is available:

```sh '
# Dhclient eu0
````

