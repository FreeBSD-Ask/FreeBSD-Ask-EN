# Section 14.1 TCP Stack

The realization of TCP is known as TCP stacks (one layer stack, thus referred to as “stamps”).

FreeBSD has achieved multi-tCP co-existence, and is currently being developed mainly in RACK (exploited by Nai Fei) and the base house (which has evolved by 4.4 BSD).

# Use RACK

````
# echo "net.inet.tcp.finances_default=rack" > /etc/syscl.conf # Endurance, re-enactment
# sysrc kld_list+= "tcp_rack"
# kldload tcp_rack
# sysctl net.inet.tcp.finances_default=rack
````

After restarting or loading the kernel module, view all available TCP stacks by command as follows:

```sh '
# syscl net.int.tcp.functions_avalable
No, no, no.
Stack D Alias PCB count
Freebsd freebsd 3
♪ Rack ♪
````

# TCP BBR

TCP BBR is a crowd control algorithm developed by Google. There are two functions:

- Full use of bandwidth;
- Reduce the delay.

In general, if you use proxy software, it is recommended that the TCP BBR function be activated, with a significant effect on speed and stability. In mainland China, this technology is usually used for magic. The project was developed in FreeBSD by the Netflix team.

I don't...

Without compiling kernels, you can directly configure loading:

```sh '
# sysrc kld_list+
````

Load BBR modules on startup.

```sh '
# echo 'net.inet.tcp.finances_default=bbr'>/etc/syscl.conf
````

Restart:

```sh '
# Reboot
````

After restart, see BBR:

```sh '
# syscl net.int.tcp.finances_default
````

TCP BBR enabled if the output results are `net.inet.tcp.finances_default: bbr '.


# Fragmentation and unfinished business

Please refer to, inter alia:

[netflix/tcplog_dumper] (https://github.com/netflix/tcplog_dumper)
