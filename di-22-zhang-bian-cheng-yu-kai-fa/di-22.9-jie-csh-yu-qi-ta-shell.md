Section 22.9 Shell


# Zsh

# # Install Zsh

- install with pkg:

```sh
# pkg install zsh zsh-completions zsh-autosuggestions zsh-syntax-highlighting
```

| Procedures | Annotations |
|:----:|:----:|
| `zsh ' | zsh shell |
| `zsh-complements ' | Auto Completion |
| `zsh-autosugestions ' | Zsh Auto Completion for Class Fish shell |
| `zsh-syntax-highlighting ' | Highlight Zsh syntax for the Fish shell class |

- install with ports:

```sh
# cd /usr/ports/shells/zsh/ && make install clean
# cd /usr/ports/shells/zsh-completions && make install clean
# cd /usr/ports/shells/zsh-autosuggestions/ && make install clean
# cd /usr/ports/shells/zsh-syntax-highlighting/ && make install clean
```

# # See after installation

```sh
# pkg info -D zsh
zsh-5.9_5:
On install:
==========================================================

By default, zsh looks for system-wide solutions in
/usr/local/etc.

If you definitely set up/etc/zprofile,/etc/zshenv, etc.,
i don't know, either move them to/usr/local/etc or build zsh with the
ETCDIR option available.

== sync, corrected by elderman == @elder_man
root@ykla:/home/ykla
by default, zsh will find default settings for system ranges in /usr/local/etc。

if you set up /etc/zprofile, /etc/zshenv, etc.
Either move them to /usr/local/etc or rebuild the zsh with the ETCDIR option enabled。

== sync, corrected by elderman == @elder_man
````

```sh
# pkg info -D zsh-autosuggestions
zsh-autosuggestions-0.7.1:
On install:
Add the line below to your .zshrc to enable auto suggestions.

_other organiser
On installation:
adds the following rows to your .zshrc file to enable automatic recommendation。

_other organiser

zsh-syntax-highlighting-0.8.0,1:
On install:
Add the line to end of * your .zshrc to be able to highlighting.

since/usr/local/share/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh
On installation:
add the following rows to your .zshrc file *end* to enable syntax highlighting。

since/usr/local/share/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh
````

Configure Zsh

```sh
# chsh -s /usr/local/bin/zsh # 切换 shell 至 zsh
chsh: user information updated
```

EDIT __CODESPAN_0_, ADD THE FOLLOWING LINES:

```sh
source /usr/local/share/zsh-autosuggestions/zsh-autosuggestions.zsh
source /usr/local/share/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh
fpath+=/usr/local/share/zsh/site-functions/
```

Use immediately:

```sh
# zsh # 将当前 shell 切换到 zsh
# source ~/.zshrc # 刷新环境变量
# rm -f ~/.zcompdump; # 删除补全缓存
# autoload -Uz compinit # 加载 compinit
# compinit # 强制重建缓存
```

Use theme beautification

```sh
# git clone --depth=1 https://github.com/romkatv/powerlevel10k.git ~/powerlevel10k
# echo 'source ~/powerlevel10k/powerlevel10k.zsh-theme' >>~/.zshrc
```

Refresh Environmental Variables

```sh
# source ~/.zshrc
```

The configuration can be completed by answering a few questions. Resume to complete configuration。


References

- [Powervel10k] (https://github.com/romkatv/powerlevel10k?tab=readme-ov-file#installation). Thematic project officer network

# Bash #

# Install Bash

- install with pkg:

```sh
# pkg install bash bash-completion-freebsd bash-completion-zfs 
```


Explanation:

- rash shell master
- Bash-complement-freebsd Bash Completion Library Extension for FreeBSD as a dependent installation
-bash-complement-zfs Bash Completion Library Extension for OpenZFS

- install with ports:

```sh
# cd /usr/ports/shells/bash/ && make install clean
# cd /usr/ports/shells/bash-completion-freebsd/ && make install clean
# cd /usr/ports/shells/bash-completion-zfs/ && make install clean
```

# # See configuration after installation

```sh
# pkg info -D bash-completion # 作为依赖安装的
bash-completion-2.14.0,2:
On install:
To enable the bash completion library, add the following to
your .bashrc file:

[[$PS1 & -f /usr/local/share/bash-complement/bash_complement.sh]] & \
_other organiser

See/usr/local/share/doc/bash-complement/README.md for more information.
On installation:
to enable the bash completion library, add the following to your .bashrc file:

[[$PS1 & -f /usr/local/share/bash-complement/bash_complement.sh]] & \
_other organiser

For more information, see /usr/local/share/doc/bash-complement/README.md。
````

# Configure Bash

```bash
# chsh -s /usr/local/bin/bash # 切换到 bash
# touch ~/.bash_profile #  创建所需变量
```

- Write required variables:


EDIT __CODESPAN_0_, WRITE

```bash
[[ $PS1 && -f /usr/local/share/bash-completion/bash_completion.sh ]] && source /usr/local/share/bash-completion/bash_completion.sh
```

Use immediately:

```bash
# bash # 将当前 shell 切换到 bash
# source ~/.bash_profile # 刷新环境变量
```

# configure csh/ tcsh

csh (C Shell, inspired by C language and similar language, by Bill Joy) is the shell in the FreeBSD Basic System,** the default shell used by root users**。

>** Skills**
>
>csh relation to tsch
>
> It is necessary to note that csh in FreeBSD is tcsh. There is no difference between the two. You can see from the source code <https://github.com/freebsd/freebsd-src/blame/main/bin/csh/Makefile>, while man csh is redirected to tcsh。


Note**
>
> while csh tsch is essentially a program, there is a clear difference between the two when used and the tcsh extension is closed if the csh parameter is used。


> ** Note**
>
[Shell of FreeBSD 14 is funded for sh] (https://github.com/freebsd/freebsd-src/committee/d410b585b6f00a26c2d77d6576a3ea7d548b7)。

---|---

- How to show different colours in file folders:

ADD THE FOLLOWING TO __CODESPAN_0:

```sh
alias ls ls –G
```

And re-entry is fine。

---|---

- How can FreeBSD csh list unfillable candidates by tab like a bash? Add the following to __CODESPAN_0:

```sh
set filec
set autolist
```

Refresh environment variables:

```sh
# source ~/.cshrc 
```

- how do you make csh with a command error like zsh

For example, you write c-language programs with emacs, but when you lose __CODESPAN_0... press __CODESPAN_1_: He will match all files starting with __CODESPAN_2_. This configuration ignores part of the matching file, which is __CODESPAN_3_, when you press. Programming friendly, no more matching to binary __CODESPAN_4_ files:

```sh
set correct = cmd lz/usr/bin tcsh>ls /usr/bin (y|n|e|a)?
set fignore = (.o ~) emacs ma[^D] main.c main.c~ main.o emacs ma[tab] emacs main.c
```
