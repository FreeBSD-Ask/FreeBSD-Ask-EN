Section 22.13 Node.js

# Update basic systems

the pkg installed binary Node.js relies on __CODESPAN_0_, a specific version, which means that if you need to use Node.js on FreeBSD, you have to look at the version of FreeBSD itself, especially when your pkg configuration uses the last source。

If you want Node.js to be installed on FreeBSD, please update the basic system and install it。

# Yarn + Node.js

```sh
# freebsd-update fetch install #必须先更新基本系统
# pkg install yarn             #会自动安装对应版本的 nodejs
```

or

```
# cd /usr/ports/www/yarn/
# make install clean # 使用 ports 编译可规避上述问题
```

# NPM + Node.js

```sh
# pkg install npm
```

or

```
# cd /usr/ports/www/npm/
# make install clean # 使用 ports 编译可规避上述问题
```

FreeBSD NPM Replace source

```sh
# npm config set registry https://registry.npmmirror.com
```

that's the original scavenging mirror station. see <https://npmmirror.com>。

# Fragmentation and unfinished business

- If you skip the upgrade of the FreeBSD basic system and install the software directly, on FreeBSD you may encounter the following errors:

```sh
# pkg install yarn
% node
ld-elf.so.1: /lib/libcrypto.so.111: version OPENSSL_1_1_1e required by /usr/local/bin/node not found
```
