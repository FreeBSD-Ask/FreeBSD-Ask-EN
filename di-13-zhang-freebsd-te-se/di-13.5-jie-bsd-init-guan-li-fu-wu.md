# Section 13.5 BSD init management services

# Base

FreeBSD uses the traditional BSD init management system service。

>** Skills**
>
>If these services are in the background for a long time: __CODESPAN_0_. For example ___ CODESPAN_1 , __ CODESPAN_2 , of which __ CODESPAN_3 , is the little demon symbol “[daemon]” on behalf of FreeBSD (https://www.freebsd.org/copyright/daemon/). They're called "services" under Windows。

- START-UP SERVICES:
- DISCONTINUATION OF SERVICES:
- RESTART SERVICE: __CODESPAN_0_
- ADD SERVICE AND START START __CODESPAN_0_ (NOT ALL, STILL DEFICIENT)
- DISABLE STARTER: __CODESPAN_0_
- DELETE START-UP ENTRY: __CODESPAN_0_

Note**
>
> Keyword __CODESPAN_0, __CODESPAN_1, __CODESPAN_2_ was first found in 13.0, see [Addnew rckeywords:] (https://reviews.freebsd.org/D17113)


The system service is defaulted to be unenabled after installation and the above commands cannot be executed, requiring the service to be opened first:

```sh
# ee /etc/rc.conf
```

ADD A LINE ___ CODESPAN_0, ___ CODESPAN_1__ WHICH INDICATES THE NAME OF THE SERVICE (IN THIS CASE, FOR EXAMPLE __ CODESPAN_2 __, __ CODESPAN_3 __, ETC.), WHICH IS A FIXED FORMAT:

```sh
XXX_enable="YES"
```

- You can also add by order:

```sh
# sysrc xxx_enable="YES"
```

or

```sh
# service xxx enable
```

- Disable service by command:

```sh
# sysrc xxx_enable="NO"
```

or

```sh
# service xxx disable
```

> ** Hint**
>
> ```sh '
>sysrc XXX_enable= "yes"
> ````
>
>Order __CODESPAN_0, of which `""` (two double quotations in English) is not actually useful, and the system is automatically added if it is not capable of implementation (as in FreeBSSD 15.0). The same goes for CODESPAN。

THE CORRESPONDING SCRIPT PATH OF THE SERVICE IS:

OF COURSE, YOU CAN CALL DIRECTLY THOSE SCRIPTS UNDER __CODESPAN_0 AND __CODESPAN_1_。

- CODESPAN_0_
- CODESPAN_0_

IF __CODESPAN_0_ DOES NOT ENABLE A SERVICE BUT WANTS TO START IT ON A TEMPORARY BASIS, THIS CAN BE DONE:

- CODESPAN_0_
- CODESPAN_0_


# Step

__CODESPAN_0_ MANAGES ALL SYSTEM SERVICES. THE RELEVANT DOCUMENTS AND PATHS ARE AS FOLLOWS:

THE DEFAULT CONFIGURATION IS __CODESPAN_0_. ** THIS IS A VISUAL, NOT A RETROFIT, AND BASICALLY EACH HAS A DETAILED DESCRIPTION OF ITS PURPOSE. ** RENUMBER __CODESPAN_1_。
The user-defined configuration is at __CODESPAN_0_. For example, if the system is to automatically start services such as ssh, ipfw, nginx, the document is to be modified. ** Note that __CODESPAN_1 is above __CODESPAN_2; i.e. __ CODESPAN_3 will cover __CODESPAN_4. **
THE SERVICE SCRIPT OF THE BASIC SYSTEM IS LOCATED AT ___CODESPAN_0_. SERVICE SCRIPTS FOR THIRD-PARTY APPLICATIONS ARE AT __CODESPAN_1_。

# # Switch off starter

CAN BE WRITTEN TO A SIMILAR ITEM __CODESPAN_0_。

- Activate script (default non-existent, self-created)

```sh
/etc/rc.local
```

- Shutdown execution script (default does not exist, self-create)

```sh
/etc/rc.shutdown.local
```

- Test

```sh
root@ykla:~ # /etc/rc.d/local start
Starting local daemons:.
```

## QUERY DEFAULT __CODESPAN_0_CONFIG FILE

>** Skills**
>
>__CODESPAN_0_ HELPS YOU QUICKLY BROWSE THE CURRENT CONFIGURATION。

TO QUERY THE DEFAULT CONFIGURATION, FOR EXAMPLE __CODESPAN_0_(FILESYSTEM CHECK) IS A COMMON COMMAND:

```
root@ykla:~ # grep fsck /etc/defaults/rc.conf
fsck_flags="-p"		# May be changed to -f (or -f -y) to force a full fsck
fsck_y_enable="NO"	# Set to YES to do fsck -y if the initial preen fails.
fsck_y_flags="-T ffs:-R -T ufs:-R"	# Additional flags for fsck -y
background_fsck="YES"	# Attempt to run fsck in the background where possible.
background_fsck_delay="60" # Time to wait (seconds) before starting the fsck.
root@ykla:~ # 
```

YOU CAN SEE DEFAULT PARAMETERS AND NOTES. IF YOU NEED TO CHANGE IT, PLEASE CHANGE ___CODESPAN_0_。

Like what

```
root@ykla:~ # sysrc fsck_y_enable="YES" # 开机自动 fsck
fsck_y_enable: NO -> YES
root@ykla:~ # sysrc background_fsck=NO # 强制在控制台输出 fsck 信息
background_fsck: YES -> NO
```


# CODESPAN_0__

FreeBSD defaults that there are cyclical tasks performed by __CODESPAN_0, which are automatically called by __CODESPAN_1_. The configuration and pathways associated with __CODESPAN_2_ are as follows:

- THE DEFAULT CONFIGURATION IS __CODESPAN_0_。
- USER-DEFINED CONFIGURATION IS AT __CODESPAN_0_。
- THE MISSION SCRIPT OF THE BASIC SYSTEM IS LOCATED AT ___CODESPAN_0_。
- THE TASK SCRIPT FOR THIRD-PARTY APPLICATIONS IS LOCATED AT ___CODESPAN_0_。

FOR EXAMPLE, THE PATH DATABASE ON WHICH THE ___CODESPAN_0_ COMMAND RELIES __CODESPAN_1_..

THE DATABASE IS UPDATED ON A WEEKLY BASIS BY SCRIPT __CODESPAN_0。

If you want to update it immediately, you can also execute the script directly:

```sh
root@ykla:~ # locate locate.database # 试图寻找 locate.database
locate: the locate database '/var/db/locate.database' does not exist.

To create a new database, please run the following command as root:

/etc/periodic/weekly/310.locate
root@ykla:~ /etc/periodic/weekly/310.locate # found no, hint to update the database

Building local data:
# look again, find it
/var/db/locate.database
````


# Other profile

- Crontab: __CODESPAN_0_ Configuration, located __CODESPAN_1_, see [crontab] (https://man.freebsd.org/cgi/man.cgi?crontab(5))。
- syslog.conf: System log configuration, at __CODESPAN_0, see [i'm sorry, syslog] (https://man.freebsd.org/cgi/man.cgi?query=syslog.conf)。
-loader.conf: System startup configuration (writing __CODESPAN_0 _ earlier than __ CODESPAN_0, but may hinder start-up), at __CODESPAN_1, for information [i don't know] (https://man.freebsd.org/cgi/man.cgi?query=loader.conf)。
- sysctl.conf: kernel parameter configuration, at __CODESPAN_0, see [i'm sorry, sysctl.conf] (https://man.freebsd.org/cgi/man.cgi?query=sysctl.conf)。
